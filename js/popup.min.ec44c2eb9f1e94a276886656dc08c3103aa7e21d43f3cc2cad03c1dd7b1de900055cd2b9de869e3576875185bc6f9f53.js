function isClassOn(e,t){if(e)return e.className.includes(t);console.log("isVisible: Non-existent element!")}function isClassOnByName(e,t){let n=document.getElementById(e);return n?n.className.includes(t):(console.log("isPopupVisible: Element "+e+" does not exist!"),!1)}function toggleClass(e,t){return e?(e.className=isClassOn(e,t)?e.className.replace(" "+t,""):e.className+" "+t,isClassOn(e,t)):(console.log("toggleClass: Non-existent element!"),!1)}function togglePopupClass(e){return toggleClass(e,"popup-visible")}function toggleScroll(){return toggleClass(document.documentElement,"no-scroll")}function togglePopup(e){if(e){let t=document.getElementById(e);isClassOn(t,"popup-no-scroll")&&toggleScroll(),togglePopupClass(t)}else console.log("showPopup: You need to provide a name!")}function addExitTrigger(e){e?e.onclick=function(){togglePopup("popup-"+e.getAttribute("data-popup"))}:console.log("addExitTrigger: Non-existent element!")}function addExitTriggerAll(){for(const e of document.querySelectorAll(".popup-exit"))addExitTrigger(e)}function addOnLeaveIntent(e){document.addEventListener("mouseout",t=>{!t.toElement&&!t.relatedTarget&&!isClassOnByName(e,"popup-shot-at-end")&&!isClassOnByName(e,"popup-visible")&&(togglePopup(e),toggleClass(document.getElementById(e),"popup-shot-at-end"))})}function addOnLeaveIntentAll(){for(const e of document.querySelectorAll(".popup-before-exit"))addOnLeaveIntent(e.id)}function addOnEnd(e){window.onscroll=function(){window.innerHeight+Math.ceil(window.pageYOffset)>=document.body.offsetHeight-2&&!isClassOnByName(e,"popup-shot-before-exit")&&!isClassOnByName(e,"popup-visible")&&(togglePopup(e),toggleClass(document.getElementById(e),"popup-shot-before-exit"))}}function addOnEndAll(){for(const e of document.querySelectorAll(".popup-at-end"))addOnEnd(e.id)}function handleStartPopups(){for(const e of document.querySelectorAll(".popup-on"))togglePopup(e.id)}addExitTriggerAll(),addOnLeaveIntentAll(),addOnEndAll(),handleStartPopups()